<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        (function () {
            try {
                const theme = localStorage.getItem('openlist-theme') || 'light';
                if (theme === 'dark') {
                    document.documentElement.setAttribute('data-theme', 'dark');
                }
            } catch (_) {}
        })();
    </script>
    <title>OpenList 管理控制台</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-bg">
                <div class="theme-toggle" id="themeToggle">
                    <svg class="theme-icon theme-icon-light" viewBox="0 0 24 24">
                        <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.166 7.758a.75.75 0 001.06-1.06L5.634 5.106a.75.75 0 00-1.06 1.06l1.59 1.591z'/%3E%3C/svg%3E"/>
                    </svg>
                    <svg class="theme-icon theme-icon-dark" viewBox="0 0 24 24">
                        <path d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z'/%3E%3C/svg%3E"/>
                    </svg>
                </div>
                <h1 class="title">OpenList 管理控制台</h1>
                <p class="subtitle">乐享网：<a href="https://www.lxapk.com" class="link">www.lxapk.com</a></p>
            </div>
        </header>

        <main>
            <section class="page active" data-page="home">
                <div class="status-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2a10 10 0 100 20 10 10 0 000-20zm0 18a8 8 0 110-16 8 8 0 010 16zm-1-9h2v4h-2zm0-2h2v2h-2z"/>
                            </svg>
                        </div>
                        <h2 class="card-title">服务状态</h2>
                    </div>
                    <div class="status-grid" id="status">
                        <div class="status-item">
                            <span class="status-label">OpenList 服务</span>
                            <span class="status-value" id="openlistStatus">加载中…</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">本地安装版本</span>
                            <span class="status-value" id="versionStatus">加载中…</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">本机设备IP</span>
                            <span class="status-value" id="ipStatus">加载中…</span>
                        </div>
                    </div>
                </div>

                <div class="features-section">
                    <h2 class="section-title">功能导航</h2>
                    <div class="features-grid">
                        <a href="#" class="feature-card" data-nav="update">
                            <div class="feature-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"/>
                                </svg>
                            </div>
                            <h3 class="feature-title">版本管理</h3>
                            <p class="feature-desc">检查更新、安装指定版本</p>
                        </a>
                        <a href="#" class="feature-card" data-nav="password">
                            <div class="feature-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                                </svg>
                            </div>
                            <h3 class="feature-title">密码设置</h3>
                            <p class="feature-desc">修改登录和管理密码</p>
                        </a>
                        <a href="#" class="feature-card" data-nav="backup">
                            <div class="feature-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                                </svg>
                            </div>
                            <h3 class="feature-title">备份恢复</h3>
                            <p class="feature-desc">备份配置或恢复数据</p>
                        </a>
                        <a href="#" class="feature-card" data-nav="log">
                            <div class="feature-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                            </div>
                            <h3 class="feature-title">日志管理</h3>
                            <p class="feature-desc">查看、清理系统日志</p>
                        </a>
                    </div>
                </div>
            </section>

            <section class="page" data-page="update">
                <a href="#" class="nav-back" data-nav="home">
                    <svg viewBox="0 0 24 24" class="nav-back-icon">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                    返回
                </a>
                <div class="status-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"/>
                            </svg>
                        </div>
                        <h2 class="card-title">版本管理</h2>
                    </div>
                    <select class="input" id="versionSelect">
                        <option value="">请先检查版本以选择更新版本</option>
                    </select>
                    <div class="backup-restore-grid">
                        <button class="btn btn-success" id="checkVersionBtn">检查版本</button>
                        <button class="btn btn-primary" id="updateBtn">开始更新</button>
                    </div>
                    <div class="log" id="updateLog">
                        <p class="log-item">📢 点击“检查版本”或“开始更新”后，日志将在此显示。</p>
                    </div>
                </div>
            </section>

            <section class="page" data-page="password">
                <a href="#" class="nav-back" data-nav="home">
                    <svg viewBox="0 0 24 24" class="nav-back-icon">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                    返回
                </a>
                <div class="status-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                            </svg>
                        </div>
                        <h2 class="card-title">密码设置</h2>
                    </div>
                    <input type="password" class="input" id="password" placeholder="输入新密码">
                    <input type="password" class="input" id="confirmPassword" placeholder="确认新密码">
                    <button class="btn btn-primary" id="setPasswordBtn">设置密码</button>
                </div>
            </section>

            <section class="page" data-page="backup">
                <a href="#" class="nav-back" data-nav="home">
                    <svg viewBox="0 0 24 24" class="nav-back-icon">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                    返回
                </a>
                <div class="status-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                            </svg>
                        </div>
                        <h2 class="card-title">备份恢复</h2>
                    </div>
                    <div class="backup-restore-grid">
                        <button class="btn btn-success" id="backupBtn">备份数据</button>
                        <button class="btn btn-primary" id="restoreBtn">恢复数据</button>
                    </div>
                    <select class="input" id="backupSelect">
                        <option value="">请先备份或等待列表刷新…</option>
                    </select>
                    <div class="log" id="backupLog">
                        <p class="log-item">📦 点击"备份数据"创建备份，恢复备份可在下方选择并恢复</p>
                    </div>
                </div>
            </section>

            <section class="page" data-page="log">
                <a href="#" class="nav-back" data-nav="home">
                    <svg viewBox="0 0 24 24" class="nav-back-icon">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                    返回
                </a>
                <div class="status-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                            </svg>
                        </div>
                        <h2 class="card-title">日志管理</h2>
                    </div>
                    <select class="input" id="logSelect">
                        <option value="">请选择日志文件</option>
                    </select>
                    <button class="btn btn-danger" id="clearLogBtn">清空日志</button>
                    <div class="log" id="logContent">
                        <p class="log-item">📜 请选择日志文件查看内容，或点击“清空日志”清空选中的日志文件。</p>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            懂得自己无知 ▪ 说明已有收获
        </footer>
    </div>

    <div class="spinner hidden" id="spinner">
        <div class="spinner-inner"></div>
    </div>

    <script src="assets/script.js"></script>
</body>
</html>